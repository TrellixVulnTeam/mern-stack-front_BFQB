{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bitcamp/Desktop/1228/mern-stack-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/Users/bitcamp/Desktop/1228/mern-stack-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/bitcamp/Desktop/1228/mern-stack-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/bitcamp/Desktop/1228/mern-stack-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import TextField from'@mui/material/TextField';import AdapterDateFns from'@mui/lab/AdapterDateFns';import LocalizationProvider from'@mui/lab/LocalizationProvider';import DateTimePicker from'@mui/lab/DateTimePicker';import Box from'@mui/material/Box';import InputLabel from'@mui/material/InputLabel';import MenuItem from'@mui/material/MenuItem';import FormControl from'@mui/material/FormControl';import Select from'@mui/material/Select';import Button from'@mui/material/Button';import{Controller,useForm}from'react-hook-form';import{useDispatch}from'react-redux';import dayjs from\"dayjs\";import{historyRequest}from\"../reducer/historySlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TimelineAdd(){var defaultValues={user_id:1,//로그인 되면 id 넣기\nlog_type:'',contents:'',location:'',address:'',log_date:'',weather:''};var dispatch=useDispatch();var _useForm=useForm({mode:'onChange',defaultValues:defaultValues}),control=_useForm.control,formState=_useForm.formState,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,getValues=_useForm.getValues;function onSubmit(){reset(defaultValues);}var dateFormat=function dateFormat(date){return dayjs(date).format(\"YYYY-MM-DD HH:mm:ss\");};var today=new Date();// const dateToString = (day) => `${day.toISOString().substring(0, 10)} ${day.toISOString().substring(11, 19)}`;\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=useState(dateFormat(today)),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];return/*#__PURE__*/_jsx(_Fragment,{children:mode==0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){return setMode(1);},children:\"\\uAE30\\uB85D \\uCD94\\uAC00\"})}):/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{'& > :not(style)':{m:1}},noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(historyRequest(_objectSpread({},data)));case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}())// onSubmit={handleSubmit(async (data) => alert(JSON.stringify(data)))}\n,children:[/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,sx:{width:'20ch'},children:/*#__PURE__*/_jsx(Controller,{name:\"log_date\",label:\"\\uB0A0\\uC528\",control:control,render:function render(_ref2){var field=_ref2.field;return/*#__PURE__*/_jsx(DateTimePicker,_objectSpread(_objectSpread({},field),{},{// onChange={(newValue) => {\n// alert(`newValue :: ${dateFormat(newValue)}`);\n// alert(`바뀌기전value :: ${dateFormat(date)}`);\n// setDate(newValue);\n// alert(`바껴야되는value :: ${date}`);\n// }}\nrenderInput:function renderInput(field){return/*#__PURE__*/_jsx(TextField,_objectSpread({},field));}}));}})}),/*#__PURE__*/_jsxs(FormControl,{sx:{width:'15ch'},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"weather-select-label\",children:\"\\uB0A0\\uC528\"}),/*#__PURE__*/_jsx(Controller,{name:\"weather\",control:control,render:function render(_ref3){var field=_ref3.field;return/*#__PURE__*/_jsxs(Select,_objectSpread(_objectSpread({},field),{},{labelId:\"weather-select-label\",id:\"weather-select\"// value={value}\n,label:\"weather\"// onChange={handleChange}\n,children:[/*#__PURE__*/_jsx(MenuItem,{value:'맑음',children:\"\\uB9D1\\uC74C\"}),/*#__PURE__*/_jsx(MenuItem,{value:'구름 많음',children:\"\\uAD6C\\uB984 \\uB9CE\\uC74C\"}),/*#__PURE__*/_jsx(MenuItem,{value:'흐림',children:\"\\uD750\\uB9BC\"}),/*#__PURE__*/_jsx(MenuItem,{value:'비',children:\"\\uBE44\"}),/*#__PURE__*/_jsx(MenuItem,{value:'비/눈',children:\"\\uBE44/\\uB208\"}),/*#__PURE__*/_jsx(MenuItem,{value:'눈',children:\"\\uB208\"}),/*#__PURE__*/_jsx(MenuItem,{value:'소나기',children:\"\\uC18C\\uB098\\uAE30\"}),/*#__PURE__*/_jsx(MenuItem,{value:'데이터 없음',children:\"\\uBAA8\\uB974\\uACA0\\uC74C!\"})]}));}})]}),/*#__PURE__*/_jsxs(FormControl,{sx:{width:'15ch'},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"category-select-label\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC\"}),/*#__PURE__*/_jsx(Controller,{name:\"log_type\",control:control,render:function render(_ref4){var field=_ref4.field;return/*#__PURE__*/_jsxs(Select,_objectSpread(_objectSpread({},field),{},{labelId:\"category-select-label\",id:\"category-select\"// value={value}\n,label:\"category\"// value=\"normal\"\n// onChange={handleChange}\n,children:[/*#__PURE__*/_jsx(MenuItem,{value:'normal',children:\"\\uC77C\\uBC18\"}),/*#__PURE__*/_jsx(MenuItem,{value:'visit',children:\"\\uBC29\\uBB38\"}),/*#__PURE__*/_jsx(MenuItem,{value:'payment',children:\"\\uACB0\\uC81C \\uB0B4\\uC5ED\"}),/*#__PURE__*/_jsx(MenuItem,{value:'study',children:\"\\uACF5\\uBD80\"})]}));}})]}),/*#__PURE__*/_jsx(Controller,{name:\"location\",control:control,render:function render(_ref5){var field=_ref5.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{id:\"outlined-basic\",label:\"\\uC7A5\\uC18C\",variant:\"outlined\",sx:{width:'20ch'},placeholder:\"\\uBC29\\uBB38 \\uC7A5\\uC18C\"}));}}),/*#__PURE__*/_jsx(Controller,{name:\"address\",control:control,render:function render(_ref6){var field=_ref6.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{id:\"outlined-basic\",label:\"\\uC8FC\\uC18C\",variant:\"outlined\",sx:{width:'20ch'},placeholder:\"\\uC0C1\\uC138 \\uC8FC\\uC18C\"}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{name:\"contents\",control:control,render:function render(_ref7){var field=_ref7.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{type:\"text\",id:\"outlined-basic\",label:\"\\uB0B4\\uC6A9\",variant:\"outlined\",sx:{width:'100.5ch'},placeholder:\"\\uBB34\\uC5C7\\uC744 \\uD588\\uB2E4!\"}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"text\",children:\"\\uC791\\uC131 \\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:function onClick(){return setMode(0);},children:\"\\uCDE8\\uC18C \\uD558\\uAE30\"})]})});}","map":null,"metadata":{},"sourceType":"module"}