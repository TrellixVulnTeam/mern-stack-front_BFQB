{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { historyAPI } from \"features/history\";\n\nconst MODIFY = async x => {\n  const res = await historyAPI.modify(x);\n  return res.data;\n};\n\nconst REMOVE = async x => {\n  const res = await historyAPI.remove(x);\n  return res.data;\n};\n\nconst HMAP = async x => {\n  const res = await historyAPI.hmap(x);\n  return res.data;\n};\n\nexport const modify = createAsyncThunk('history/modify', MODIFY);\nexport const remove = createAsyncThunk('history/remove', REMOVE);\nexport const hmap = createAsyncThunk('history/map', HMAP);\n\nconst changeNull = ls => {\n  for (const i of ls) {\n    document.getElementById(i).value = '';\n  }\n};\n\nconst historySlice = createSlice({\n  name: 'histories',\n  initialState: {\n    historyState: {},\n    historiesState: [],\n    type: '',\n    keyword: '',\n    params: {}\n  },\n  reducers: {},\n  extraReducers: {\n    [modify.fulfilled]: (state, action) => {\n      localStorage.setItem('sessionHistory', JSON.stringify(action.payload));\n      window.location.href = '';\n    },\n    [remove.fulfilled]: (state, action) => {\n      window.localStorage.removeItem(\"sessionHistroy\");\n      window.localStorage.clear();\n      window.location.href = '';\n    },\n    [hmap.fulfilled]: (state, action) => {\n      state.historyState = payload;\n    }\n  }\n});\nexport const currentHistoryState = state => state.histories.historyState;\nexport const currentHistoriesState = state => state.histories.historiesState;\nexport const currentHistoryParam = state => state.histories.param;\nexport default historySlice.reducer;","map":{"version":3,"sources":["C:/Users/bitcamp/Desktop/jarviis-msa-frontend/src/features/history/reducer/historySlice.js"],"names":["createAsyncThunk","createSlice","historyAPI","MODIFY","x","res","modify","data","REMOVE","remove","HMAP","hmap","changeNull","ls","i","document","getElementById","value","historySlice","name","initialState","historyState","historiesState","type","keyword","params","reducers","extraReducers","fulfilled","state","action","localStorage","setItem","JSON","stringify","payload","window","location","href","removeItem","clear","currentHistoryState","histories","currentHistoriesState","currentHistoryParam","param","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAGA,MAAMC,MAAM,GAAG,MAAOC,CAAP,IAAa;AACxB,QAAMC,GAAG,GAAG,MAAMH,UAAU,CAACI,MAAX,CAAkBF,CAAlB,CAAlB;AACA,SAAOC,GAAG,CAACE,IAAX;AACH,CAHD;;AAIA,MAAMC,MAAM,GAAG,MAAOJ,CAAP,IAAa;AACxB,QAAMC,GAAG,GAAG,MAAMH,UAAU,CAACO,MAAX,CAAkBL,CAAlB,CAAlB;AACA,SAAOC,GAAG,CAACE,IAAX;AACH,CAHD;;AAIA,MAAMG,IAAI,GAAG,MAAON,CAAP,IAAa;AACtB,QAAMC,GAAG,GAAG,MAAMH,UAAU,CAACS,IAAX,CAAgBP,CAAhB,CAAlB;AACA,SAAOC,GAAG,CAACE,IAAX;AACH,CAHD;;AAKA,OAAO,MAAMD,MAAM,GAAGN,gBAAgB,CAAC,gBAAD,EAAmBG,MAAnB,CAA/B;AACP,OAAO,MAAMM,MAAM,GAAGT,gBAAgB,CAAC,gBAAD,EAAmBQ,MAAnB,CAA/B;AACP,OAAO,MAAMG,IAAI,GAAGX,gBAAgB,CAAC,aAAD,EAAgBU,IAAhB,CAA7B;;AAEP,MAAME,UAAU,GAAGC,EAAE,IAAI;AACrB,OAAK,MAAMC,CAAX,IAAgBD,EAAhB,EAAoB;AAChBE,IAAAA,QAAQ,CAACC,cAAT,CAAwBF,CAAxB,EAA2BG,KAA3B,GAAmC,EAAnC;AACH;AACJ,CAJD;;AAMA,MAAMC,YAAY,GAAGjB,WAAW,CAAC;AAC7BkB,EAAAA,IAAI,EAAE,WADuB;AAE7BC,EAAAA,YAAY,EAAC;AACTC,IAAAA,YAAY,EAAE,EADL;AAETC,IAAAA,cAAc,EAAE,EAFP;AAGTC,IAAAA,IAAI,EAAE,EAHG;AAITC,IAAAA,OAAO,EAAE,EAJA;AAKTC,IAAAA,MAAM,EAAC;AALE,GAFgB;AAS7BC,EAAAA,QAAQ,EAAE,EATmB;AAU7BC,EAAAA,aAAa,EAAE;AACX,KAACrB,MAAM,CAACsB,SAAR,GAAoB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnCC,MAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAsCC,IAAI,CAACC,SAAL,CAAeJ,MAAM,CAACK,OAAtB,CAAtC;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,EAAvB;AACH,KAJU;AAKX,KAAC7B,MAAM,CAACmB,SAAR,GAAoB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnCM,MAAAA,MAAM,CAACL,YAAP,CAAoBQ,UAApB,CAA+B,gBAA/B;AACAH,MAAAA,MAAM,CAACL,YAAP,CAAoBS,KAApB;AACAJ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,EAAvB;AACH,KATU;AAUX,KAAC3B,IAAI,CAACiB,SAAN,GAAkB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAACD,MAAAA,KAAK,CAACR,YAAN,GAAqBc,OAArB;AAA6B;AAVxD;AAVc,CAAD,CAAhC;AAyBA,OAAO,MAAMM,mBAAmB,GAAGZ,KAAK,IAAIA,KAAK,CAACa,SAAN,CAAgBrB,YAArD;AACP,OAAO,MAAMsB,qBAAqB,GAAGd,KAAK,IAAIA,KAAK,CAACa,SAAN,CAAgBpB,cAAvD;AACP,OAAO,MAAMsB,mBAAmB,GAAGf,KAAK,IAAIA,KAAK,CAACa,SAAN,CAAgBG,KAArD;AACP,eAAe3B,YAAY,CAAC4B,OAA5B","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { historyAPI } from \"features/history\";\n\n\nconst MODIFY = async (x) => {\n    const res = await historyAPI.modify(x)\n    return res.data\n}\nconst REMOVE = async (x) => {\n    const res = await historyAPI.remove(x)\n    return res.data\n}\nconst HMAP = async (x) => {\n    const res = await historyAPI.hmap(x)\n    return res.data\n}\n\nexport const modify = createAsyncThunk('history/modify', MODIFY)\nexport const remove = createAsyncThunk('history/remove', REMOVE)\nexport const hmap = createAsyncThunk('history/map', HMAP)\n\nconst changeNull = ls => {\n    for (const i of ls) {\n        document.getElementById(i).value = ''\n    }\n}\n\nconst historySlice = createSlice({\n    name: 'histories',\n    initialState:{\n        historyState: {},\n        historiesState: [],\n        type: '',\n        keyword: '',\n        params:{}\n    },\n    reducers: {},\n    extraReducers: {\n        [modify.fulfilled]: (state, action) => {\n            localStorage.setItem('sessionHistory',JSON.stringify(action.payload))\n            window.location.href = ''\n        },\n        [remove.fulfilled]: (state, action) => {\n            window.localStorage.removeItem(\"sessionHistroy\");\n            window.localStorage.clear();\n            window.location.href = ''\n        },\n        [hmap.fulfilled]: (state, action) => {state.historyState = payload}\n    }\n\n})\n\nexport const currentHistoryState = state => state.histories.historyState\nexport const currentHistoriesState = state => state.histories.historiesState\nexport const currentHistoryParam = state => state.histories.param\nexport default historySlice.reducer;\n\n\n"]},"metadata":{},"sourceType":"module"}