{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bitcamp/Desktop/1228/mern-stack-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(remove),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(exist),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(join),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(login),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(modify),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(watchLogin),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(watchJoin),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(watchExist),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(watchModify),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(watchRemove);import{call,put,takeLatest}from\"redux-saga/effects\";import{loginRequest,loginFailure,loginSuccess,joinSuccess,joinFailure,joinRequest,existSuccess,existFailure,existRequest,modifySuccess,modifyFailure,modifyRequest,deleteRequest,deleteSuccess}from\"features/user/reducer/userSlice\";import{userAPI}from\"features/user\";function remove(action){var result;return _regeneratorRuntime.wrap(function remove$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;alert(action.payload);_context.next=4;return call(userAPI.removeAPI,action.payload);case 4:result=_context.sent;alert(\"돌아옴\");_context.next=8;return put(deleteSuccess(result));case 8:localStorage.clear();window.location.href=\"/home\";_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);_context.next=16;return put(modifyFailure(_context.t0));case 16:case\"end\":return _context.stop();}}},_marked,null,[[0,12]]);}function exist(action){var result;return _regeneratorRuntime.wrap(function exist$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(userAPI.existAPI,action.payload);case 3:result=_context2.sent;_context2.next=6;return put(existSuccess(result));case 6:alert(\"가능한 아이디입니다.\");_context2.next=15;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);_context2.next=13;return put(existFailure(_context2.t0));case 13:alert(_context2.t0);alert(\"쓸수없는 아이디입니다.\");case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[0,9]]);}function join(action){var result;return _regeneratorRuntime.wrap(function join$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(userAPI.joinAPI,action.payload);case 3:result=_context3.sent;_context3.next=6;return put(joinSuccess(result));case 6:window.location.href='users/login';alert(\"🎄회원가입을 축하드립니다🎄\");_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);_context3.next=14;return put(joinFailure(_context3.t0));case 14:case\"end\":return _context3.stop();}}},_marked3,null,[[0,10]]);}function login(action){var result;return _regeneratorRuntime.wrap(function login$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return call(userAPI.loginAPI,action.payload);case 3:result=_context4.sent;_context4.next=6;return put(loginSuccess(result));case 6:window.localStorage.setItem('sessionToken',JSON.parse(JSON.stringify(result.data.tokenData)));window.localStorage.setItem('sessionUser',JSON.stringify(result.data.userData));window.location.href=\"/home\";_context4.next=16;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);alert(\"아이디 혹은 비밀번호가 틀렸습니다!\");_context4.next=16;return put(loginFailure(_context4.t0));case 16:case\"end\":return _context4.stop();}}},_marked4,null,[[0,11]]);}function modify(action){var result;return _regeneratorRuntime.wrap(function modify$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return call(userAPI.modifyAPI,action.payload);case 3:result=_context5.sent;_context5.next=6;return put(modifySuccess(result));case 6:// const test = result.config.data\n// alert(`result? :: ${test} :: type :: ${typeof test}`)\n// alert(`result parse :: ${JSON.parse(JSON.stringify(test))} :: type :: ${typeof JSON.parse(JSON.stringify(test))}`)\nwindow.localStorage.setItem('sessionUser',JSON.parse(JSON.stringify(result.config.data)));// alert(`SESSION 저장됨? ${window.localStorage.getItem('sessionUser')}`)\nwindow.location.href=\"/mypage/setting\";_context5.next=14;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);_context5.next=14;return put(modifyFailure(_context5.t0));case 14:case\"end\":return _context5.stop();}}},_marked5,null,[[0,10]]);}// Watch 함수\nexport function watchLogin(){return _regeneratorRuntime.wrap(function watchLogin$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeLatest(loginRequest.type,login);case 2:case\"end\":return _context6.stop();}}},_marked6);}export function watchJoin(){return _regeneratorRuntime.wrap(function watchJoin$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return takeLatest(joinRequest.type,join);case 2:case\"end\":return _context7.stop();}}},_marked7);}export function watchExist(){return _regeneratorRuntime.wrap(function watchExist$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeLatest(existRequest.type,exist);case 2:case\"end\":return _context8.stop();}}},_marked8);}export function watchModify(){return _regeneratorRuntime.wrap(function watchModify$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return takeLatest(modifyRequest.type,modify);case 2:case\"end\":return _context9.stop();}}},_marked9);}export function watchRemove(){return _regeneratorRuntime.wrap(function watchRemove$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return takeLatest(deleteRequest.type,remove);case 2:case\"end\":return _context10.stop();}}},_marked10);}","map":null,"metadata":{},"sourceType":"module"}